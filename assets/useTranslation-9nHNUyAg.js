import{r as u}from"./index-BfiH1CDa.js";import{g as $,b as G}from"./i18nInstance-CHFDjdcJ.js";const W=(e,t,a,o)=>{var n,f,S,d;const s=[a,{code:t,...o||{}}];if((f=(n=e==null?void 0:e.services)==null?void 0:n.logger)!=null&&f.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);p(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(d=(S=e==null?void 0:e.services)==null?void 0:S.logger)!=null&&d.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},T={},k=(e,t,a,o)=>{p(a)&&T[a]||(p(a)&&(T[a]=new Date),W(e,t,a,o))},z=(e,t)=>()=>{if(e.isInitialized)t();else{const a=()=>{setTimeout(()=>{e.off("initialized",a)},0),t()};e.on("initialized",a)}},E=(e,t,a)=>{e.loadNamespaces(t,z(e,a))},O=(e,t,a,o)=>{if(p(a)&&(a=[a]),e.options.preload&&e.options.preload.indexOf(t)>-1)return E(e,a,o);a.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,z(e,o))},X=(e,t,a={})=>!t.languages||!t.languages.length?(k(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:a.lng,precheck:(o,s)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!s(o.isLanguageChangingTo,e))return!1}}),p=e=>typeof e=="string",Y=e=>typeof e=="object"&&e!==null,q=u.createContext();class B{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var j={exports:{}},A={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=u;function D(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H=typeof Object.is=="function"?Object.is:D,J=h.useState,K=h.useEffect,Q=h.useLayoutEffect,V=h.useDebugValue;function Z(e,t){var a=t(),o=J({inst:{value:a,getSnapshot:t}}),s=o[0].inst,n=o[1];return Q(function(){s.value=a,s.getSnapshot=t,w(s)&&n({inst:s})},[e,a,t]),K(function(){return w(s)&&n({inst:s}),e(function(){w(s)&&n({inst:s})})},[e]),V(a),a}function w(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!H(e,a)}catch{return!0}}function ee(e,t){return t()}var te=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ee:Z;A.useSyncExternalStore=h.useSyncExternalStore!==void 0?h.useSyncExternalStore:te;j.exports=A;var ne=j.exports;const ae=(e,t)=>p(t)?t:Y(t)&&p(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,se={t:ae,ready:!1},re=()=>()=>{},ue=(e,t={})=>{var y,I;const{i18n:a}=t,{i18n:o,defaultNS:s}=u.useContext(q)||{},n=a||o||$();n&&!n.reportNamespaces&&(n.reportNamespaces=new B),n||k(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const f=u.useMemo(()=>{var r;return{...G(),...(r=n==null?void 0:n.options)==null?void 0:r.react,...t}},[n,t]),{useSuspense:S,keyPrefix:d}=f,l=u.useMemo(()=>{var c;const r=e||s||((c=n==null?void 0:n.options)==null?void 0:c.defaultNS);return p(r)?[r]:r||["translation"]},[e,s,n]);(I=(y=n==null?void 0:n.reportNamespaces)==null?void 0:y.addUsedNamespaces)==null||I.call(y,l);const b=u.useRef(0),U=u.useCallback(r=>{if(!n)return re;const{bindI18n:c,bindI18nStore:g}=f,i=()=>{b.current+=1,r()};return c&&n.on(c,i),g&&n.store.on(g,i),()=>{c&&c.split(" ").forEach(x=>n.off(x,i)),g&&g.split(" ").forEach(x=>n.store.off(x,i))}},[n,f]),C=u.useRef(),L=u.useCallback(()=>{if(!n)return se;const r=!!(n.isInitialized||n.initializedStoreOnce)&&l.every(P=>X(P,n,f)),c=t.lng||n.language,g=b.current,i=C.current;if(i&&i.ready===r&&i.lng===c&&i.keyPrefix===d&&i.revision===g)return i;const R={t:n.getFixedT(c,f.nsMode==="fallback"?l:l[0],d),ready:r,lng:c,keyPrefix:d,revision:g};return C.current=R,R},[n,l,d,f,t.lng]),[_,F]=u.useState(0),{t:v,ready:m}=ne.useSyncExternalStore(U,L,L);u.useEffect(()=>{if(n&&!m&&!S){const r=()=>F(c=>c+1);t.lng?O(n,t.lng,l,r):E(n,l,r)}},[n,t.lng,l,m,S,_]);const N=n||{},M=u.useMemo(()=>{const r=[v,N,m];return r.t=v,r.i18n=N,r.ready=m,r},[v,N,m]);if(n&&S&&!m)throw new Promise(r=>{const c=()=>r();t.lng?O(n,t.lng,l,c):E(n,l,c)});return M};export{ue as u};
